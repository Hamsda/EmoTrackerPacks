debugging = false
info_per_section = {
  ["@Kokiri Forest -> KF Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Kokiri Forest -> KF Storms Grotto/child",
    ["adult_section"] = "@Kokiri Forest -> KF Storms Grotto/adult",
  },
  ["@Lost Woods -> LW Near Shortcuts Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Lost Woods -> LW Near Shortcuts Grotto/child",
    ["adult_section"] = "@Lost Woods -> LW Near Shortcuts Grotto/adult",
  },
  ["@LW Beyond Mido -> Deku Theater/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_theater",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@LW Beyond Mido -> Deku Theater/child",
    ["adult_section"] = "@LW Beyond Mido -> Deku Theater/adult",
  },
  ["@LW Beyond Mido -> LW Scrubs Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@LW Beyond Mido -> LW Scrubs Grotto/child",
    ["adult_section"] = "@LW Beyond Mido -> LW Scrubs Grotto/adult",
  },
  ["@Sacred Forest Meadow -> SFM Fairy Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_fairy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Sacred Forest Meadow -> SFM Fairy Grotto/child",
    ["adult_section"] = "@Sacred Forest Meadow -> SFM Fairy Grotto/adult",
  },
  ["@Sacred Forest Meadow -> SFM Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Sacred Forest Meadow -> SFM Storms Grotto/child",
    ["adult_section"] = "@Sacred Forest Meadow -> SFM Storms Grotto/adult",
  },
  ["@SFM Entryway -> SFM Wolfos Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_enemy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@SFM Entryway -> SFM Wolfos Grotto/child",
    ["adult_section"] = "@SFM Entryway -> SFM Wolfos Grotto/adult",
  },
  ["@Hyrule Field -> HF Fairy Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_fairy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Fairy Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Fairy Grotto/adult",
  },
  ["@Hyrule Field -> HF Near Kak Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_field_kak",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Near Kak Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Near Kak Grotto/adult",
  },
  ["@Hyrule Field -> HF Inside Fence Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Inside Fence Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Inside Fence Grotto/adult",
  },
  ["@Hyrule Field -> HF Open Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Open Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Open Grotto/adult",
  },
  ["@Hyrule Field -> HF Tektite Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_tektite",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Tektite Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Tektite Grotto/adult",
  },
  ["@Hyrule Field -> HF Cow Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_field_valley",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Cow Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Cow Grotto/adult",
  },
  ["@Hyrule Field -> HF Near Market Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Near Market Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Near Market Grotto/adult",
  },
  ["@Hyrule Field -> HF Southeast Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Field -> HF Southeast Grotto/child",
    ["adult_section"] = "@Hyrule Field -> HF Southeast Grotto/adult",
  },
  ["@Lon Lon Ranch -> LLR Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Lon Lon Ranch -> LLR Grotto/child",
    ["adult_section"] = "@Lon Lon Ranch -> LLR Grotto/adult",
  },
  ["@Kakariko Village -> Kak Redead Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_enemy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Kakariko Village -> Kak Redead Grotto/child",
    ["adult_section"] = "@Kakariko Village -> Kak Redead Grotto/adult",
  },
  ["@Kak Backyard -> Kak Open Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Kak Backyard -> Kak Open Grotto/child",
    ["adult_section"] = "@Kak Backyard -> Kak Open Grotto/adult",
  },
  ["@Graveyard -> Graveyard Composers Grave/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_comp",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Graveyard -> Graveyard Composers Grave/child",
    ["adult_section"] = "@Graveyard -> Graveyard Composers Grave/adult",
  },
  ["@Graveyard -> Graveyard Dampes Grave/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_dampe",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Graveyard -> Graveyard Dampes Grave/child",
    ["adult_section"] = "@Graveyard -> Graveyard Dampes Grave/adult",
  },
  ["@Graveyard -> Graveyard Heart Piece Grave/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_hp",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Graveyard -> Graveyard Heart Piece Grave/child",
    ["adult_section"] = "@Graveyard -> Graveyard Heart Piece Grave/adult",
  },
  ["@Graveyard -> Graveyard Shield Grave/Grotto"] = {
    ["vanilla_capture"] = "", --TODO: new captures?
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Graveyard -> Graveyard Shield Grave/child",
    ["adult_section"] = "@Graveyard -> Graveyard Shield Grave/adult",
  },
  ["@Hyrule Castle Grounds -> HC Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_castle_storms",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Hyrule Castle Grounds -> HC Storms Grotto/child",
    ["adult_section"] = "@Hyrule Castle Grounds -> HC Storms Grotto/adult",
  },
  ["@Death Mountain Summit -> DMT Cow Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_cow",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Death Mountain Summit -> DMT Cow Grotto/child",
    ["adult_section"] = "@Death Mountain Summit -> DMT Cow Grotto/adult",
  },
  ["@Death Mountain -> DMT Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Death Mountain -> DMT Storms Grotto/child",
    ["adult_section"] = "@Death Mountain -> DMT Storms Grotto/adult",
  },
  ["@DMC Upper Nearby -> DMC Upper Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@DMC Upper Nearby -> DMC Upper Grotto/child",
    ["adult_section"] = "@DMC Upper Nearby -> DMC Upper Grotto/adult",
  },
  ["@DMC Lower Nearby -> DMC Hammer Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@DMC Lower Nearby -> DMC Hammer Grotto/child",
    ["adult_section"] = "@DMC Lower Nearby -> DMC Hammer Grotto/adult",
  },
  ["@Goron City -> GC Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Goron City -> GC Grotto/child",
    ["adult_section"] = "@Goron City -> GC Grotto/adult",
  },
  ["@Lake Hylia -> LH Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Lake Hylia -> LH Grotto/child",
    ["adult_section"] = "@Lake Hylia -> LH Grotto/adult",
  },
  ["@Zora River -> ZR Fairy Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_fairy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Zora River -> ZR Fairy Grotto/child",
    ["adult_section"] = "@Zora River -> ZR Fairy Grotto/adult",
  },
  ["@Zora River -> ZR Open Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_generic",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Zora River -> ZR Open Grotto/child",
    ["adult_section"] = "@Zora River -> ZR Open Grotto/adult",
  },
  ["@Zora River -> ZR Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Zora River -> ZR Storms Grotto/child",
    ["adult_section"] = "@Zora River -> ZR Storms Grotto/adult",
  },
  ["@Zoras Domain -> ZD Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_fairy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Zoras Domain -> ZD Storms Grotto/child",
    ["adult_section"] = "@Zoras Domain -> ZD Storms Grotto/adult",
  },
  ["@Gerudo Valley -> GV Octorok Grotto/Grotto"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Gerudo Valley -> GV Octorok Grotto/child",
    ["adult_section"] = "@Gerudo Valley -> GV Octorok Grotto/adult",
  },
  ["@GV Fortress Side -> GV Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@GV Fortress Side -> GV Storms Grotto/child",
    ["adult_section"] = "@GV Fortress Side -> GV Storms Grotto/adult",
  },
  ["@Gerudo Fortress -> GF Storms Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_fairy",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Gerudo Fortress -> GF Storms Grotto/child",
    ["adult_section"] = "@Gerudo Fortress -> GF Storms Grotto/adult",
  },
  ["@Desert Colossus -> Colossus Grotto/Grotto"] = {
    ["vanilla_capture"] = "entrance_grotto_scrub",
    ["setting"] = "setting_entrance_grottos_shuffle",
    ["child_section"] = "@Desert Colossus -> Colossus Grotto/child",
    ["adult_section"] = "@Desert Colossus -> Colossus Grotto/adult",
  },
  ["@Kokiri Forest -> KF House of Twins/House"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kokiri Forest -> KF House of Twins/child",
    ["adult_section"] = "@Kokiri Forest -> KF House of Twins/adult",
  },
  ["@Kokiri Forest -> KF Know It All House/House"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kokiri Forest -> KF Know It All House/child",
    ["adult_section"] = "@Kokiri Forest -> KF Know It All House/adult",
  },
  ["@Kokiri Forest -> KF Kokiri Shop/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kokiri Forest -> KF Kokiri Shop/child",
    ["adult_section"] = "@Kokiri Forest -> KF Kokiri Shop/adult",
  },
  ["@Kokiri Forest -> KF Midos House/House"] = {
    ["vanilla_capture"] = "", --TODO: new captures?
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kokiri Forest -> KF Midos House/child",
    ["adult_section"] = "@Kokiri Forest -> KF Midos House/adult",
  },
  ["@Kokiri Forest -> KF Sarias House/House"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kokiri Forest -> KF Sarias House/child",
    ["adult_section"] = "@Kokiri Forest -> KF Sarias House/adult",
  },
  ["@Lon Lon Ranch -> LLR Stables/House"] = {
    ["vanilla_capture"] = "entrance_house_cow",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Lon Lon Ranch -> LLR Stables/child",
    ["adult_section"] = "@Lon Lon Ranch -> LLR Stables/adult",
  },
  ["@Lon Lon Ranch -> LLR Tower/House"] = {
    ["vanilla_capture"] = "entrance_house_cow",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Lon Lon Ranch -> LLR Tower/child",
    ["adult_section"] = "@Lon Lon Ranch -> LLR Tower/adult",
  },
  ["@Lon Lon Ranch -> LLR Talons House/House"] = {
    ["vanilla_capture"] = "entrance_house_talon_child",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Lon Lon Ranch -> LLR Talons House/child",
    ["adult_section"] = "@Lon Lon Ranch -> LLR Talons House/adult",
  },
  ["@Kakariko Village -> Kak Carpenter Boss House/House"] = {
    ["vanilla_capture"] = "entrance_house_talon_adult",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kakariko Village -> Kak Carpenter Boss House/child",
    ["adult_section"] = "@Kakariko Village -> Kak Carpenter Boss House/adult",
  },
  ["@Kakariko Village -> Kak House of Skulltula/House"] = {
    ["vanilla_capture"] = "entrance_house_skull",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kakariko Village -> Kak House of Skulltula/child",
    ["adult_section"] = "@Kakariko Village -> Kak House of Skulltula/adult",
  },
  ["@Kakariko Village -> Kak Impas House/House"] = {
    ["vanilla_capture"] = "entrance_house_cow",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kakariko Village -> Kak Impas House/child",
    ["adult_section"] = "@Kakariko Village -> Kak Impas House/adult",
  },
  ["@Kak Impas Ledge -> Kak Impas House Back/House"] = {
    ["vanilla_capture"] = "entrance_house_cow",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kak Impas Ledge -> Kak Impas House Back/child",
    ["adult_section"] = "@Kak Impas Ledge -> Kak Impas House Back/adult",
  },
  ["@Kakariko Village -> Kak Bazaar/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kakariko Village -> Kak Bazaar/child",
    ["adult_section"] = "@Kakariko Village -> Kak Bazaar/adult",
  },
  ["@Kakariko Village -> Kak Shooting Gallery/House"] = {
    ["vanilla_capture"] = "entrance_house_shoot_adult",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kakariko Village -> Kak Shooting Gallery/child",
    ["adult_section"] = "@Kakariko Village -> Kak Shooting Gallery/adult",
  },
  ["@Kak Backyard -> Kak Odd Medicine Building/House"] = {
    ["vanilla_capture"] = "entrance_house_hag",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Kak Backyard -> Kak Odd Medicine Building/child",
    ["adult_section"] = "@Kak Backyard -> Kak Odd Medicine Building/adult",
  },
  ["@Graveyard -> Graveyard Dampes House/House"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Graveyard -> Graveyard Dampes House/child",
    ["adult_section"] = "@Graveyard -> Graveyard Dampes House/adult",
  },
  ["@Market -> Market Bazaar/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Bazaar/child",
    ["adult_section"] = "@Market -> Market Bazaar/adult",
  },
  ["@Market -> Market Bombchu Bowling/House"] = {
    ["vanilla_capture"] = "entrance_house_bowling",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Bombchu Bowling/child",
    ["adult_section"] = "@Market -> Market Bombchu Bowling/adult",
  },
  ["@Market -> Market Bombchu Shop/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Bombchu Shop/child",
    ["adult_section"] = "@Market -> Market Bombchu Shop/adult",
  },
  ["@Market -> Market Man in Green House/House"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Man in Green House/child",
    ["adult_section"] = "@Market -> Market Man in Green House/adult",
  },
  ["@Market -> Market Mask Shop/House"] = {
    ["vanilla_capture"] = "entrance_house_masks",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Mask Shop/child",
    ["adult_section"] = "@Market -> Market Mask Shop/adult",
  },
  ["@Market -> Market Potion Shop/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Potion Shop/child",
    ["adult_section"] = "@Market -> Market Potion Shop/adult",
  },
  ["@Market -> Market Shooting Gallery/House"] = {
    ["vanilla_capture"] = "entrance_house_shoot_child",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Shooting Gallery/child",
    ["adult_section"] = "@Market -> Market Shooting Gallery/adult",
  },
  ["@Market -> Market Treasure Chest Game/House"] = {
    ["vanilla_capture"] = "entrance_house_chest",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market -> Market Treasure Chest Game/child",
    ["adult_section"] = "@Market -> Market Treasure Chest Game/adult",
  },
  ["@Market Entrance -> Market Guard House/House"] = {
    ["vanilla_capture"] = "entrance_house_pot",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Market Entrance -> Market Guard House/child",
    ["adult_section"] = "@Market Entrance -> Market Guard House/adult",
  },
  ["@Ganons Castle Grounds -> OGC Great Fairy Fountain/House"] = {
    ["vanilla_capture"] = "entrance_house_fairy",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Ganons Castle Grounds -> OGC Great Fairy Fountain/child",
    ["adult_section"] = "@Ganons Castle Grounds -> OGC Great Fairy Fountain/adult",
  },
  ["@Hyrule Castle Grounds -> HC Great Fairy Fountain/House"] = {
    ["vanilla_capture"] = "entrance_house_fairy",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Hyrule Castle Grounds -> HC Great Fairy Fountain/child",
    ["adult_section"] = "@Hyrule Castle Grounds -> HC Great Fairy Fountain/adult",
  },
  ["@Death Mountain Summit -> DMT Great Fairy Fountain/House"] = {
    ["vanilla_capture"] = "entrance_house_fairy",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Death Mountain Summit -> DMT Great Fairy Fountain/child",
    ["adult_section"] = "@Death Mountain Summit -> DMT Great Fairy Fountain/adult",
  },
  ["@DMC Lower Nearby -> DMC Great Fairy Fountain/House"] = {
    ["vanilla_capture"] = "entrance_house_fairy",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@DMC Lower Nearby -> DMC Great Fairy Fountain/child",
    ["adult_section"] = "@DMC Lower Nearby -> DMC Great Fairy Fountain/adult",
  },
  ["@Goron City -> GC Shop/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Goron City -> GC Shop/child",
    ["adult_section"] = "@Goron City -> GC Shop/adult",
  },
  ["@Lake Hylia -> LH Fishing Hole/House"] = {
    ["vanilla_capture"] = "entrance_house_fishing",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Lake Hylia -> LH Fishing Hole/child",
    ["adult_section"] = "@Lake Hylia -> LH Fishing Hole/adult",
  },
  ["@Lake Hylia -> LH Lab/House"] = {
    ["vanilla_capture"] = "entrance_house_lab",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Lake Hylia -> LH Lab/child",
    ["adult_section"] = "@Lake Hylia -> LH Lab/adult",
  },
  ["@Zoras Domain -> ZD Shop/House"] = {
    ["vanilla_capture"] = "entrance_house_shop",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Zoras Domain -> ZD Shop/child",
    ["adult_section"] = "@Zoras Domain -> ZD Shop/adult",
  },
  ["@Zoras Fountain -> ZF Great Fairy Fountain/House"] = {
    ["vanilla_capture"] = "entrance_house_fairy",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Zoras Fountain -> ZF Great Fairy Fountain/child",
    ["adult_section"] = "@Zoras Fountain -> ZF Great Fairy Fountain/adult",
  },
  ["@GV Fortress Side -> GV Carpenter Tent/House"] = {
    ["vanilla_capture"] = "",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@GV Fortress Side -> GV Carpenter Tent/child",
    ["adult_section"] = "@GV Fortress Side -> GV Carpenter Tent/adult",
  },
  ["@Desert Colossus -> Colossus Great Fairy Fountain/House"] = {
    ["vanilla_capture"] = "entrance_house_fairy",
    ["setting"] = "setting_entrance_interiors_simple",
    ["child_section"] = "@Desert Colossus -> Colossus Great Fairy Fountain/child",
    ["adult_section"] = "@Desert Colossus -> Colossus Great Fairy Fountain/adult",
  },
  ["@Kokiri Forest -> KF Links House/House"] = {
    ["vanilla_capture"] = "entrance_house_link",
    ["setting"] = "setting_entrance_interiors_all",
    ["child_section"] = "@Kokiri Forest -> KF Links House/child",
    ["adult_section"] = "@Kokiri Forest -> KF Links House/adult",
  },
  ["@Kakariko Village -> Kak Potion Shop Front/House"] = {
    ["vanilla_capture"] = "entrance_house_potion_front",
    ["setting"] = "setting_entrance_interiors_all",
    ["child_section"] = "@Kakariko Village -> Kak Potion Shop Front/child",
    ["adult_section"] = "@Kakariko Village -> Kak Potion Shop Front/adult",
  },
  ["@Kakariko Village -> Kak Windmill/House"] = {
    ["vanilla_capture"] = "entrance_house_windmill",
    ["setting"] = "setting_entrance_interiors_all",
    ["child_section"] = "@Kakariko Village -> Kak Windmill/child",
    ["adult_section"] = "@Kakariko Village -> Kak Windmill/adult",
  },
  ["@Kak Backyard -> Kak Potion Shop Back/House"] = {
    ["vanilla_capture"] = "entrance_house_potion_back",
    ["setting"] = "setting_entrance_interiors_all",
    ["child_section"] = "@Kak Backyard -> Kak Potion Shop Back/child",
    ["adult_section"] = "@Kak Backyard -> Kak Potion Shop Back/adult",
  },
  ["@ToT Entrance -> Temple of Time/House"] = {
    ["vanilla_capture"] = "entrance_house_tot",
    ["setting"] = "setting_entrance_interiors_all",
    ["child_section"] = "@ToT Entrance -> Temple of Time/child",
    ["adult_section"] = "@ToT Entrance -> Temple of Time/adult",
  },
  ["@KF Outside Deku Tree -> Deku Tree Lobby/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_deku",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@KF Outside Deku Tree -> Deku Tree Lobby/child",
    ["adult_section"] = "@KF Outside Deku Tree -> Deku Tree Lobby/adult",
  },
  ["@Sacred Forest Meadow -> Forest Temple Lobby/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_forest",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Sacred Forest Meadow -> Forest Temple Lobby/child",
    ["adult_section"] = "@Sacred Forest Meadow -> Forest Temple Lobby/adult",
  },
  ["@Kakariko Village -> Bottom of the Well/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_botw",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Kakariko Village -> Bottom of the Well/child",
    ["adult_section"] = "@Kakariko Village -> Bottom of the Well/adult",
  },
  ["@Graveyard Warp Pad Region -> Shadow Temple Entryway/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_shadow",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Graveyard Warp Pad Region -> Shadow Temple Entryway/child",
    ["adult_section"] = "@Graveyard Warp Pad Region -> Shadow Temple Entryway/adult",
  },
  ["@Dodongos Cavern Entryway -> Dodongos Cavern Beginning/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_dodongo",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Dodongos Cavern Entryway -> Dodongos Cavern Beginning/child",
    ["adult_section"] = "@Dodongos Cavern Entryway -> Dodongos Cavern Beginning/adult",
  },
  ["@Fire Temple Entrance -> Fire Temple Lower/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_fire",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Fire Temple Entrance -> Fire Temple Lower/child",
    ["adult_section"] = "@Fire Temple Entrance -> Fire Temple Lower/adult",
  },
  ["@Lake Hylia -> Water Temple Lobby/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_water",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Lake Hylia -> Water Temple Lobby/child",
    ["adult_section"] = "@Lake Hylia -> Water Temple Lobby/adult",
  },
  ["@Zoras Fountain -> Jabu Jabus Belly Beginning/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_jabu",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Zoras Fountain -> Jabu Jabus Belly Beginning/child",
    ["adult_section"] = "@Zoras Fountain -> Jabu Jabus Belly Beginning/adult",
  },
  ["@Zoras Fountain -> Ice Cavern Beginning/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_ice",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Zoras Fountain -> Ice Cavern Beginning/child",
    ["adult_section"] = "@Zoras Fountain -> Ice Cavern Beginning/adult",
  },
  ["@Gerudo Fortress -> Gerudo Training Grounds Lobby/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_gtg",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Gerudo Fortress -> Gerudo Training Grounds Lobby/child",
    ["adult_section"] = "@Gerudo Fortress -> Gerudo Training Grounds Lobby/adult",
  },
  ["@Desert Colossus -> Spirit Temple Lobby/Dungeon"] = {
    ["vanilla_capture"] = "entrance_dungeon_spirit",
    ["setting"] = "setting_entrance_dungeons_shuffle",
    ["child_section"] = "@Desert Colossus -> Spirit Temple Lobby/child",
    ["adult_section"] = "@Desert Colossus -> Spirit Temple Lobby/adult",
  },
  ["@Kokiri Forest -> Lost Woods/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lw",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Kokiri Forest -> Lost Woods/child",
    ["adult_section"] = "@Kokiri Forest -> Lost Woods/adult",
  },
  ["@Kokiri Forest -> LW Bridge From Forest/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lw_brg",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Kokiri Forest -> LW Bridge From Forest/child",
    ["adult_section"] = "@Kokiri Forest -> LW Bridge From Forest/adult",
  },
  ["@Lost Woods -> GC Woods Warp/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gc_lw",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Lost Woods -> GC Woods Warp/child",
    ["adult_section"] = "@Lost Woods -> GC Woods Warp/adult",
  },
  ["@Lost Woods -> Zora River/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zr",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Lost Woods -> Zora River/child",
    ["adult_section"] = "@Lost Woods -> Zora River/adult",
  },
  ["@LW Beyond Mido -> SFM Entryway/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_sfm_ent",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@LW Beyond Mido -> SFM Entryway/child",
    ["adult_section"] = "@LW Beyond Mido -> SFM Entryway/adult",
  },
  ["@LW Forest Exit -> Kokiri Forest/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_kf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@LW Forest Exit -> Kokiri Forest/child",
    ["adult_section"] = "@LW Forest Exit -> Kokiri Forest/adult",
  },
  ["@LW Bridge -> Kokiri Forest/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_kf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@LW Bridge -> Kokiri Forest/child",
    ["adult_section"] = "@LW Bridge -> Kokiri Forest/adult",
  },
  ["@LW Bridge -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@LW Bridge -> Hyrule Field/child",
    ["adult_section"] = "@LW Bridge -> Hyrule Field/adult",
  },
  ["@SFM Entryway -> LW Beyond Mido/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lw_mido",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@SFM Entryway -> LW Beyond Mido/child",
    ["adult_section"] = "@SFM Entryway -> LW Beyond Mido/adult",
  },
  ["@Hyrule Field -> Market Entrance/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_mkt_ent",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> Market Entrance/child",
    ["adult_section"] = "@Hyrule Field -> Market Entrance/adult",
  },
  ["@Hyrule Field -> Gerudo Valley/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gv",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> Gerudo Valley/child",
    ["adult_section"] = "@Hyrule Field -> Gerudo Valley/adult",
  },
  ["@Hyrule Field -> Kakariko Village/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_kak",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> Kakariko Village/child",
    ["adult_section"] = "@Hyrule Field -> Kakariko Village/adult",
  },
  ["@Hyrule Field -> Lake Hylia/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lh",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> Lake Hylia/child",
    ["adult_section"] = "@Hyrule Field -> Lake Hylia/adult",
  },
  ["@Hyrule Field -> Lon Lon Ranch/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_llr",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> Lon Lon Ranch/child",
    ["adult_section"] = "@Hyrule Field -> Lon Lon Ranch/adult",
  },
  ["@Hyrule Field -> LW Bridge/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lw_brg",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> LW Bridge/child",
    ["adult_section"] = "@Hyrule Field -> LW Bridge/adult",
  },
  ["@Hyrule Field -> ZR Front/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zr_frnt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Hyrule Field -> ZR Front/child",
    ["adult_section"] = "@Hyrule Field -> ZR Front/adult",
  },
  ["@Lon Lon Ranch -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Lon Lon Ranch -> Hyrule Field/child",
    ["adult_section"] = "@Lon Lon Ranch -> Hyrule Field/adult",
  },
  ["@Kakariko Village -> Graveyard/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gy",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Kakariko Village -> Graveyard/child",
    ["adult_section"] = "@Kakariko Village -> Graveyard/adult",
  },
  ["@Kakariko Village -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Kakariko Village -> Hyrule Field/child",
    ["adult_section"] = "@Kakariko Village -> Hyrule Field/adult",
  },
  ["@Kak Behind Gate -> Death Mountain/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_dmt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Kak Behind Gate -> Death Mountain/child",
    ["adult_section"] = "@Kak Behind Gate -> Death Mountain/adult",
  },
  ["@Graveyard -> Kakariko Village/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_kak",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Graveyard -> Kakariko Village/child",
    ["adult_section"] = "@Graveyard -> Kakariko Village/adult",
  },
  ["@Market -> Castle Grounds/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_cg",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Market -> Castle Grounds/child",
    ["adult_section"] = "@Market -> Castle Grounds/adult",
  },
  ["@Market -> Market Entrance/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_mkt_ent",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Market -> Market Entrance/child",
    ["adult_section"] = "@Market -> Market Entrance/adult",
  },
  ["@Market -> ToT Entrance/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_tot_ent",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Market -> ToT Entrance/child",
    ["adult_section"] = "@Market -> ToT Entrance/adult",
  },
  ["@Market Entrance -> Market/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_mkt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Market Entrance -> Market/child",
    ["adult_section"] = "@Market Entrance -> Market/adult",
  },
  ["@Market Entrance -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Market Entrance -> Hyrule Field/child",
    ["adult_section"] = "@Market Entrance -> Hyrule Field/adult",
  },
  ["@ToT Entrance -> Market/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_mkt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@ToT Entrance -> Market/child",
    ["adult_section"] = "@ToT Entrance -> Market/adult",
  },
  ["@Castle Grounds -> Market/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_mkt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Castle Grounds -> Market/child",
    ["adult_section"] = "@Castle Grounds -> Market/adult",
  },
  ["@Death Mountain -> Goron City/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gc",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Death Mountain -> Goron City/child",
    ["adult_section"] = "@Death Mountain -> Goron City/adult",
  },
  ["@Death Mountain -> Kak Behind Gate/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_kak_gate",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Death Mountain -> Kak Behind Gate/child",
    ["adult_section"] = "@Death Mountain -> Kak Behind Gate/adult",
  },
  ["@Death Mountain Summit -> DMC Upper Local/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_dmc_upr",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Death Mountain Summit -> DMC Upper Local/child",
    ["adult_section"] = "@Death Mountain Summit -> DMC Upper Local/adult",
  },
  ["@DMC Lower Nearby -> GC Darunias Chamber/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gc_drn",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@DMC Lower Nearby -> GC Darunias Chamber/child",
    ["adult_section"] = "@DMC Lower Nearby -> GC Darunias Chamber/adult",
  },
  ["@DMC Upper Nearby -> Death Mountain Summit/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_dm_smt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@DMC Upper Nearby -> Death Mountain Summit/child",
    ["adult_section"] = "@DMC Upper Nearby -> Death Mountain Summit/adult",
  },
  ["@GC Darunias Chamber -> DMC Lower Local/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_dmc_lwr",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@GC Darunias Chamber -> DMC Lower Local/child",
    ["adult_section"] = "@GC Darunias Chamber -> DMC Lower Local/adult",
  },
  ["@Goron City -> Death Mountain/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_dmt",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Goron City -> Death Mountain/child",
    ["adult_section"] = "@Goron City -> Death Mountain/adult",
  },
  ["@GC Woods Warp -> Lost Woods/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lw",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@GC Woods Warp -> Lost Woods/child",
    ["adult_section"] = "@GC Woods Warp -> Lost Woods/adult",
  },
  ["@Lake Hylia -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Lake Hylia -> Hyrule Field/child",
    ["adult_section"] = "@Lake Hylia -> Hyrule Field/adult",
  },
  ["@Lake Hylia -> Zoras Domain/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zd",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Lake Hylia -> Zoras Domain/child",
    ["adult_section"] = "@Lake Hylia -> Zoras Domain/adult",
  },
  ["@Zora River -> Lost Woods/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lw",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Zora River -> Lost Woods/child",
    ["adult_section"] = "@Zora River -> Lost Woods/adult",
  },
  ["@ZR Behind Waterfall -> Zoras Domain/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zd",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@ZR Behind Waterfall -> Zoras Domain/child",
    ["adult_section"] = "@ZR Behind Waterfall -> Zoras Domain/adult",
  },
  ["@ZR Front -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@ZR Front -> Hyrule Field/child",
    ["adult_section"] = "@ZR Front -> Hyrule Field/adult",
  },
  ["@Zoras Domain -> Lake Hylia/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lh",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Zoras Domain -> Lake Hylia/child",
    ["adult_section"] = "@Zoras Domain -> Lake Hylia/adult",
  },
  ["@Zoras Domain -> ZR Behind Waterfall/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zr_fall",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Zoras Domain -> ZR Behind Waterfall/child",
    ["adult_section"] = "@Zoras Domain -> ZR Behind Waterfall/adult",
  },
  ["@ZD Behind King Zora -> Zoras Fountain/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@ZD Behind King Zora -> Zoras Fountain/child",
    ["adult_section"] = "@ZD Behind King Zora -> Zoras Fountain/adult",
  },
  ["@Zoras Fountain -> ZD Behind King Zora/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_zd_kz",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Zoras Fountain -> ZD Behind King Zora/child",
    ["adult_section"] = "@Zoras Fountain -> ZD Behind King Zora/adult",
  },
  ["@Gerudo Valley -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Gerudo Valley -> Hyrule Field/child",
    ["adult_section"] = "@Gerudo Valley -> Hyrule Field/adult",
  },
  ["@GV Fortress Side -> Gerudo Fortress/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gf",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@GV Fortress Side -> Gerudo Fortress/child",
    ["adult_section"] = "@GV Fortress Side -> Gerudo Fortress/adult",
  },
  ["@Gerudo Fortress -> GV Fortress Side/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gv_fort",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Gerudo Fortress -> GV Fortress Side/child",
    ["adult_section"] = "@Gerudo Fortress -> GV Fortress Side/adult",
  },
  ["@GF Outside Gate -> Wasteland Near Fortress/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_wl_fort",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@GF Outside Gate -> Wasteland Near Fortress/child",
    ["adult_section"] = "@GF Outside Gate -> Wasteland Near Fortress/adult",
  },
  ["@Wasteland Near Colossus -> Desert Colossus/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_col",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Wasteland Near Colossus -> Desert Colossus/child",
    ["adult_section"] = "@Wasteland Near Colossus -> Desert Colossus/adult",
  },
  ["@Wasteland Near Fortress -> GF Outside Gate/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gf_gate",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Wasteland Near Fortress -> GF Outside Gate/child",
    ["adult_section"] = "@Wasteland Near Fortress -> GF Outside Gate/adult",
  },
  ["@Desert Colossus -> Wasteland Near Colossus/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_wl_col",
    ["setting"] = "setting_entrance_overworld_shuffle",
    ["child_section"] = "@Desert Colossus -> Wasteland Near Colossus/child",
    ["adult_section"] = "@Desert Colossus -> Wasteland Near Colossus/adult",
  },
  ["@DMT Owl Flight -> Kak Impas Ledge/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_kak_impa",
    ["setting"] = "setting_entrance_owl_shuffle",
    ["child_section"] = "@DMT Owl Flight -> Kak Impas Ledge/child",
    ["adult_section"] = "@DMT Owl Flight -> Kak Impas Ledge/adult",
  },
  ["@LH Owl Flight -> Hyrule Field/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_hf",
    ["setting"] = "setting_entrance_owl_shuffle",
    ["child_section"] = "@LH Owl Flight -> Hyrule Field/child",
    ["adult_section"] = "@LH Owl Flight -> Hyrule Field/adult",
  },
  ["@Minuet of Forest Warp -> Sacred Forest Meadow/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_sfm",
    ["setting"] = "setting_entrance_warpsong_shuffle",
    ["child_section"] = "@Minuet of Forest Warp -> Sacred Forest Meadow/child",
    ["adult_section"] = "@Minuet of Forest Warp -> Sacred Forest Meadow/adult",
  },
  ["@Bolero of Fire Warp -> DMC Central Local/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_dmc_ctr",
    ["setting"] = "setting_entrance_warpsong_shuffle",
    ["child_section"] = "@Bolero of Fire Warp -> DMC Central Local/child",
    ["adult_section"] = "@Bolero of Fire Warp -> DMC Central Local/adult",
  },
  ["@Serenade of Water Warp -> Lake Hylia/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_lh",
    ["setting"] = "setting_entrance_warpsong_shuffle",
    ["child_section"] = "@Serenade of Water Warp -> Lake Hylia/child",
    ["adult_section"] = "@Serenade of Water Warp -> Lake Hylia/adult",
  },
  ["@Requiem of Spirit Warp -> Desert Colossus/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_col",
    ["setting"] = "setting_entrance_warpsong_shuffle",
    ["child_section"] = "@Requiem of Spirit Warp -> Desert Colossus/child",
    ["adult_section"] = "@Requiem of Spirit Warp -> Desert Colossus/adult",
  },
  ["@Nocturne of Shadow Warp -> Graveyard Warp Pad Region/Overworld"] = {
    ["vanilla_capture"] = "entrance_overworld_gy_pad",
    ["setting"] = "setting_entrance_warpsong_shuffle",
    ["child_section"] = "@Nocturne of Shadow Warp -> Graveyard Warp Pad Region/child",
    ["adult_section"] = "@Nocturne of Shadow Warp -> Graveyard Warp Pad Region/adult",
  },
  ["@Prelude of Light Warp -> Temple of Time/Overworld"] = {
    ["vanilla_capture"] = "entrance_house_tot",
    ["setting"] = "setting_entrance_warpsong_shuffle",
    ["child_section"] = "@Prelude of Light Warp -> Temple of Time/child",
    ["adult_section"] = "@Prelude of Light Warp -> Temple of Time/adult",
  },
  ["@Child Spawn -> KF Links House/Overworld"] = {
    ["vanilla_capture"] = "entrance_house_link",
    ["setting"] = "setting_entrance_spawn_shuffle",
    ["child_section"] = "@Child Spawn -> KF Links House/child",
    ["adult_section"] = "@Child Spawn -> KF Links House/adult",
  },
  ["@Adult Spawn -> Temple of Time/Overworld"] = {
    ["vanilla_capture"] = "entrance_house_tot",
    ["setting"] = "setting_entrance_spawn_shuffle",
    ["child_section"] = "@Adult Spawn -> Temple of Time/child",
    ["adult_section"] = "@Adult Spawn -> Temple of Time/adult",
  },
}
spawn_sections = {
  "@Child Spawn -> KF Links House/Overworld",
  "@Adult Spawn -> Temple of Time/Overworld",
  "@Minuet of Forest Warp -> Sacred Forest Meadow/Overworld",
  "@Bolero of Fire Warp -> DMC Central Local/Overworld",
  "@Serenade of Water Warp -> Lake Hylia/Overworld",
  "@Requiem of Spirit Warp -> Desert Colossus/Overworld",
  "@Nocturne of Shadow Warp -> Graveyard Warp Pad Region/Overworld",
  "@Prelude of Light Warp -> Temple of Time/Overworld",
}
origin_per_special_region = {
  ["Links House"] = "",
  ["Temple of Time"] = "",
  ["Kak Windmill"] = "",
  ["Graveyard Dampes Grave"] = "",
  ["Kak Potion Shop Front"] = "",
  ["Kak Potion Shop Back"] = "",
}
target_functions_per_regions = {
  ["Special Regions"] = {},
  ["Kokiri Forest"] = {
    ["KF Outside Deku Tree"] = {
      function()
        return (has("setting_forest_open") or (has("sword1") and has("shield1"))) 
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.None
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["KF Outside Deku Tree"] = {
    ["Kokiri Forest"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    }
  },
  ["Links House"] = {},
  ["LW Forest Exit"] = {},
  ["Lost Woods"] = {
    ["LW Forest Exit"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["LW Bridge"] = {
      function()
        return AccessibilityLevel.None
      end,      
      function()
        return (has("hoverboots") or has("longshot") or (has("beans") and access("Lost Woods", "child") > 0)) --TODO: logic_lost_woods_bridge
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.SequenceBreak
      end
    },
    ["LW Beyond Mido"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        if has("logic_mido_backflip") or (has("ocarina") and has("saria")) then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["LW Beyond Mido"] = {
    ["LW Forest Exit"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["Lost Woods"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return (has("ocarina") and has("saria"))
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.None
      end
    },
  },
  ["SFM Entryway"] = {
    ["Sacred Forest Meadow"] = {
      function()
        if has("sling") or has("sticks") or has("sword1") or (has("dinsfire") and has("magic")) then
          return AccessibilityLevel.Normal
        elseif has_explosives() > 0 then
          return AccessibilityLevel.SequenceBreak
        end
        return AccessibilityLevel.None
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Sacred Forest Meadow"] = {
    ["SFM Entryway"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["LW Bridge From Forest"] = {
    ["LW Bridge"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    }
  },
  ["LW Bridge"] = {
    ["Kokiri Forest"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["Hyrule Field"] = {
      function()
        return AccessibilityLevel.Normal
      end,      
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["Lost Woods"] = {
      function()
        return AccessibilityLevel.None
      end,      
      function()
        return (has("longshot"))
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.None
      end
    },
  },
  ["Hyrule Field"] = {},
  ["Lake Hylia"] = {},
  ["Gerudo Valley"] = {
    ["GV Stream"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["GV Crate Ledge"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return (has("longshot"))
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.None
      end
    },
    ["GV Fortress Side"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return ((has("ocarina") and has("epona")) or has("longshot") or has("gerudo_fortress_open")) --TODO: carpenter rescue
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.None
      end
    },
  },
  ["GV Stream"] = {
    ["Lake Hylia"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["GV Crate Ledge"] = {},
  ["GV Fortress Side"] = {
    ["GV Stream"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["GV Crate Ledge"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        if (has("hoverboots") and damage_single_instance_ohko() > 0) then
          if has("logic_valley_crate_hovers") then
            return AccessibilityLevel.Normal
          else
            return AccessibilityLevel.SequenceBreak
          end
        end
        return AccessibilityLevel.None
      end
    },
    ["Gerudo Valley"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return ((has("ocarina") and has("epona")) or has("longshot") or has("gerudo_fortress_open")) --TODO: carpenter rescue
        and AccessibilityLevel.Normal 
        or AccessibilityLevel.None
      end
    },
  },
  ["Gerudo Fortress"] = {
    ["GF Outside Gate"] = {
      function()
        return AccessibilityLevel.None --TODO: open gate as adult
      end,
      function()
        return (has("card"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.None
      end
    },
  },
  ["GF Outside Gate"] = {
    ["Gerudo Fortress"] = {
      function()
        return AccessibilityLevel.None --TODO: open gate as adult
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Wasteland Near Fortress"] = {
    ["Haunted Wasteland"] = {
      function()
        return (has("logic_wasteland_crossing"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end,      
      function()
        return (has("logic_wasteland_crossing") or has("hoverboots") or has("longshot"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["Haunted Wasteland"] = {
    ["Wasteland Near Colossus"] = {
      function()
        return (has("logic_lens_wasteland") or (has("lens") and has("magic")))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end,      
      function()
        return (has("logic_lens_wasteland") or (has("lens") and has("magic")))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
    ["Wasteland Near Fortress"] = {
      function()
        return (has("logic_wasteland_crossing"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end,      
      function()
        return (has("logic_wasteland_crossing") or has("hoverboots") or has("longshot"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["Wasteland Near Colossus"] = {
    ["Haunted Wasteland"] = {
      function()
        return (has("logic_reverse_wasteland"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end,      
      function()
        return (has("logic_reverse_wasteland"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["Desert Colossus"] = {},
  ["Spirit Temple"] = {
    ["Desert Colossus"] = { --TODO: detailed spirit logic
      function()
        if Tracker:ProviderCountForCode("spirit_small_keys") >= 2 then
          local _,explo_level = has_explosives()
          return explo_level
        end
        return AccessibilityLevel.None
      end,
      function()
        if Tracker:ProviderCountForCode("spirit_small_keys") >= 2 
        and has("lift2")
        then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.None
      end
    },
  },
  ["Market Entrance"] = {},
  ["Market"] = {},
  ["ToT Entrance"] = {},
  ["Temple of Time"] = {},
  ["Castle Grounds"] = {
    ["Hyrule Castle Grounds"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.None
      end
    },
    ["Ganons Castle Grounds"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Hyrule Castle Grounds"] = {
    ["Castle Grounds"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Ganons Castle Grounds"] = {
    ["Castle Grounds"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kakariko Village"] = {
    ["Kak Impas Ledge"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return (has("logic_visible_collisions") or has("hookshot")) --TODO: logic_visible_collisions
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
    ["Kak Rooftop"] = {
      function()
        return (has("logic_man_on_roof"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end,
      function()
        return (has("logic_man_on_roof") or has("hookshot"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
    ["Kak Backyard"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kak Impas Ledge"] = {
    ["Kakariko Village"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kak Rooftop"] = {
    ["Kak Backyard"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kak Backyard"] = {
    ["Kakariko Village"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kak Windmill"] = {},
  ["Kak Potion Shop Front"] = {
    ["Kak Potion Shop Back"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kak Potion Shop Back"] = {
    ["Kak Potion Shop Front"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Graveyard"] = {},
  ["Graveyard Dampes Grave"] = {
    ["Kak Windmill"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        if has("ocarina") and has("time") then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.None
      end
    },
  },
  ["Graveyard Warp Pad Region"] = {
    ["Graveyard"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Kak Behind Gate"] = {
    ["Kakariko Village"] = {
      function()
        if has("logic_visible_collisions")
        or has("setting_kak_open")
        or (has("setting_kak_letter") and has("postzelda"))
        then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.SequenceBreak
      end,
      function()
        return AccessibilityLevel.Normal
      end
    }
  },
  ["Death Mountain"] = {
    ["Death Mountain Summit"] = {
      function()
        local _, explo_level = has_explosives()
        if (has("hammer") and access("Death Mountain", "adult")) then
          return AccessibilityLevel.Normal
        end
        return explo_level
      end,
      function()
        local _, explo_level = has_explosives()
        if (has("hammer") or (has("beans") and access("Death Mountain", "child") > 1 and has("lift1"))) then
          return AccessibilityLevel.Normal
        end
        return explo_level
      end
    },
    ["Dodongos Cavern Entryway"] = {
      function()
        local _, explo_level = has_explosives()
        if (has("lift1")) then
          return AccessibilityLevel.Normal
        end
        return explo_level
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Death Mountain Summit"] = {
    ["Death Mountain"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Dodongos Cavern Entryway"] = {
    ["Death Mountain"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Goron City"] = {
    ["GC Woods Warp"] = {
      function()
        local _, warp = woods_warp_open()
        return warp
      end,
      function()
        local _, warp = woods_warp_open()
        return warp
      end
    },
    ["GC Darunias Chamber"] = {
      function()
        return (has("ocarina") and has("lullaby"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.None
      end,
      function()
        local _,goron = link_the_goron()
        return goron
      end
    },
  },
  ["GC Woods Warp"] = {
    ["Goron City"] = {
      function()
        local _, warp = woods_warp_open() --TODO: can_leave_forest
        return warp
      end,
      function()
        local _, warp = woods_warp_open()
        return warp
      end
    },
  },
  ["GC Darunias Chamber"] = {
    ["Goron City"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["DMC Upper Nearby"] = {
    ["DMC Upper Local"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return (has("redtunic"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["DMC Upper Local"] = {
    ["DMC Upper Nearby"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["DMC Ladder Area Nearby"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["DMC Central Nearby"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        if has("redtunic")
        and has("longshot")
        and damage_single_instance_quadruple() > 0
        then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.None
      end
    },
  },
  ["DMC Ladder Area Nearby"] = {
    ["DMC Upper Nearby"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["DMC Lower Nearby"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        if has("hoverboots") then
          return AccessibilityLevel.Normal
        elseif has("hammer") then
          return has("logic_crater_upper_to_lower")
          and AccessibilityLevel.Normal
          or AccessibilityLevel.SequenceBreak
        end
        return AccessibilityLevel.None
      end
    },
  },
  ["DMC Lower Nearby"] = {
    ["DMC Lower Local"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return (has("redtunic"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["DMC Lower Local"] = {
    ["DMC Lower Nearby"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["DMC Ladder Area Nearby"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["DMC Central Nearby"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return (has("hoverboots") or has("hookshot"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.None
      end
    },
    ["Fire Temple Entrance"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        if has("hoverboots") or has("hookshot") then
          local _,tunic = FTR_or_goron()
          return tunic
        end
        return AccessibilityLevel.None
      end
    },
  },
  ["DMC Central Nearby"] = {
    ["DMC Central Local"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        return (has("redtunic"))
        and AccessibilityLevel.Normal
        or AccessibilityLevel.SequenceBreak
      end
    },
  },
  ["DMC Central Local"] = {
    ["DMC Central Nearby"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["DMC Lower Nearby"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        if has("hoverboots")
        or has("hookshot")
        then
          return AccessibilityLevel.Normal
        end
        local _,child = access("DMC Central Local", "child")
        if has("beans") then
          return child
        end
        return AccessibilityLevel.None
      end
    },
    ["DMC Upper Nearby"] = {
      function()
        return AccessibilityLevel.None
      end,
      function()
        local _,child = access("DMC Central Local", "child")
        if has("beans") then
          return child
        end
        return AccessibilityLevel.None
      end
    },
    ["Fire Temple Entrance"] = {
      function()
        if has("setting_entrance_dungeons_shuffle") then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.None
      end,
      function()
        local _,tunic = FTR_or_goron()
        return tunic
      end
    },
  },
  ["Fire Temple Entrance"] = {},
  ["ZR Front"] = {
    ["Zora River"] = {
      function()
        local _,explo = has_explosives()
        return explo
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Zora River"] = {
    ["ZR Front"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
    ["ZR Behind Waterfall"] = {
      function()
        if has("ocarina") and has("lullaby") 
        or has("logic_zora_with_cucco")
        then
          return AccessibilityLevel.Normal
        end
        return AccessibilityLevel.SequenceBreak
      end,
      function()
        if has("ocarina") and has("lullaby") then
          return AccessibilityLevel.Normal
        end
        if has("hoverboots") then
          return has("logic_zora_with_hovers")
          and AccessibilityLevel.Normal
          or AccessibilityLevel.SequenceBreak
        end
        return AccessibilityLevel.None
      end
    },
  },
  ["ZR Behind Waterfall"] = {
    ["Zora River"] = {
      function()
        return AccessibilityLevel.Normal
      end,
      function()
        return AccessibilityLevel.Normal
      end
    },
  },
  ["Zoras Domain"] = {
    ["ZD Behind King Zora"] = {
      function()
        if has("setting_fountain_open") then
          return AccessibilityLevel.Normal
        end
        local _,letter = deliver_letter()
        return letter
      end,
      function()
        if has("setting_fountain_open") 
        or has("setting_fountain_adult") 
        then
          return AccessibilityLevel.Normal
        end
        local _,letter = deliver_letter()
        return letter
      end
    },
  },
  ["ZD Behind King Zora"] = {
    ["Zoras Domain"] = {
      function()
        if has("setting_fountain_open") then
          return AccessibilityLevel.Normal
        end
        local _,letter = deliver_letter()
        return letter
      end,
      function()
        if has("setting_fountain_open") 
        or has("setting_fountain_adult") 
        then
          return AccessibilityLevel.Normal
        end
        local _,letter = deliver_letter()
        return letter
      end
    },
  },
  ["Zoras Fountain"] = {},
  ["Lon Lon Ranch"] = {},
}
access_per_region_per_age = {}
temp_regions = {}

function invalidate_regions(tab)
  tab[1] = {}
  tab[2] = {}
  for region,_ in pairs(target_functions_per_regions) do
    tab[1][region] = AccessibilityLevel.None
    tab[2][region] = AccessibilityLevel.None
  end
  for region,_ in pairs(origin_per_special_region) do
    tab[1][region] = AccessibilityLevel.None
    tab[2][region] = AccessibilityLevel.None
  end
end
invalidate_regions(temp_regions)
invalidate_regions(access_per_region_per_age)

function set_region_access(access_table, age, target_region, new_access)
  local cur_access = access_table[age][target_region]
  if (new_access == AccessibilityLevel.Normal
  and cur_access ~= AccessibilityLevel.Normal)
  or (new_access == AccessibilityLevel.SequenceBreak
  and cur_access == AccessibilityLevel.None)
  then
    if debugging then print("---set access", age, target_region, new_access) end
    changed_access = true
    access_table[age][target_region] = new_access
  end
end

function get_access_per_section(section)
  local section_object = get_object(section)
  if section_object and section_object.AccessibilityLevel then
    return section_object.AccessibilityLevel
  end
  return AccessibilityLevel.None
end

function get_access_per_section_per_age(section, age)
  if age == 1 then
    return get_access_per_section(info_per_section[section].child_section)
  elseif age == 2 then
    return get_access_per_section(info_per_section[section].adult_section)
  end
  return AccessibilityLevel.None
end

function find_starts(sections)
  for i,section in ipairs(spawn_sections) do
    local spawn_cap = info_per_section[section].capture
    local access = get_access_per_section(section)
    if spawn_cap then
      if i == 1 or i >= 3 then
        if debugging then print("new start", 1, spawn_cap) end
        access_per_region_per_age[1][spawn_cap] = access
      end
      if i == 2 or i >= 3 then
        if debugging then print("new start", 2, spawn_cap) end
        access_per_region_per_age[2][spawn_cap] = access
      end
    end
  end
end

changed_access = false

function build_regions()
  invalidate_regions(temp_regions)
  invalidate_regions(access_per_region_per_age)
  find_starts()

  local round = 1
  while true do
    if debugging then print("round", round) end
    
    for age=1,2 do
      if debugging then print("-age", age) end
      for region,access in pairs(access_per_region_per_age[age]) do
        if access ~= AccessibilityLevel.None then
          if debugging then print("--region", age, access, region) end
          temp_regions[age][region] = access
          
          for target_region,funcs in pairs(target_functions_per_regions[region]) do
            local new_access = funcs[age]()
            set_region_access(temp_regions, age, target_region, new_access)
          end
          
          for section,info in pairs(info_per_section) do
            if info.region == region then
              local new_access = get_access_per_section_per_age(section, age)
              if info.capture and target_functions_per_regions[info.capture] then
                set_region_access(temp_regions, age, info.capture, new_access)

                if info.capture == "Temple of Time"
                and (has("setting_door_open")
                or (has("ocarina") and has("time")))
                then
                  if debugging then print("time travel") end
                  set_region_access(temp_regions, (3-age), info.capture, new_access)
                  set_region_access(temp_regions, (3-age), region, new_access)
                end
              end
            end
          end

          if origin_per_special_region[region]
          and origin_per_special_region[region] ~= ""
          and (age == 2 or region ~= "Kak Potion Shop Back") --only adult can leave the back
          then
            set_region_access(temp_regions, age, origin_per_special_region[region], access)
          end
        end
      end
    end
    
    access_per_region_per_age = temp_regions
    
    if changed_access then
      changed_access = false
    else
      break
    end
    
    round = round + 1
    if round > 30 then
      print("monkaS")
      break
    end
  end
  if debugging then print("---------------") end
end

function access(region, age)
  age = age or ""
  region = region or ""
  if age == "both" then
    if access_per_region_per_age[1][region] == AccessibilityLevel.Normal 
    and access_per_region_per_age[2][region] == AccessibilityLevel.Normal 
    then
      return 1, AccessibilityLevel.Normal
    elseif
    (access_per_region_per_age[1][region] == AccessibilityLevel.Normal 
    or access_per_region_per_age[1][region] == AccessibilityLevel.SequenceBreak)
    and 
    (access_per_region_per_age[2][region] == AccessibilityLevel.Normal 
    or access_per_region_per_age[2][region] == AccessibilityLevel.SequenceBreak)
    then
      return 1, AccessibilityLevel.SequenceBreak
    end
  elseif age == "child" then
    if access_per_region_per_age[1][region] ~= AccessibilityLevel.None then
      return 1, access_per_region_per_age[1][region]
    end
  elseif age == "adult" then
    if access_per_region_per_age[2][region] ~= AccessibilityLevel.None then
      return 1, access_per_region_per_age[2][region]
    end
  else --either
    if access_per_region_per_age[1][region] == AccessibilityLevel.Normal 
    or access_per_region_per_age[2][region] == AccessibilityLevel.Normal 
    then
      return 1, AccessibilityLevel.Normal
    elseif 
    access_per_region_per_age[1][region] == AccessibilityLevel.SequenceBreak 
    or access_per_region_per_age[2][region] == AccessibilityLevel.SequenceBreak 
    then
      return 1, AccessibilityLevel.SequenceBreak
    end
  end
  return 0, AccessibilityLevel.None
end